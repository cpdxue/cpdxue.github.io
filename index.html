<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>cpdxue.gitHub.io</title>
  </head>
  <body>

  <h1>cpdxue.github.io</h1>

    <script>
      parent_domain = "http://drxiayth.github.io";
      child_domain = "http://cpdxue.github.io";

      var eventMethod = window.addEventListener ? "addEventListener" : "attachEvent";
      var eventer = window[eventMethod];
      var messageEvent = eventMethod == "attachEvent" ? "onmessage" : "message";

      // First Message to Parent
      console.log('1 child sending msg to parent')
      parent.postMessage("a msg to parent: iframe present", parent_domain)
      


      // Listen to message from child window
      eventer(messageEvent,function(e) {
        var origin = event.origin || event.originalEvent.origin;
        console.log('5 child received from origin: ' + origin)
        if (origin != parent_domain){
          return;
        } else {
          console.log('6 child received message!: ', e.data);
          console.log('7 child knew: ' + 'reff:' = parent.document.referrer + ' href:' + parent.document.location.href)
        }

      },false);
    </script>
  
  </body>
</html>
